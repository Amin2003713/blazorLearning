<div class="row">
    <div class="col-md-5 col-sm-12">
        <AutoComplete @bind-Value="customerName"
                      TItem="string"
                      DataProvider="CityDataProvider"
                      PropertyName="CustomerName"
                      Placeholder="Search a City..."
                      OnChanged="(string customer) => OnAutoCompleteChanged(customer)"/>
    </div>
</div>

@code {

     private string? customerName { get; set; }

     [Parameter] public IEnumerable<string>? Cities { get; set; } = ServersRepository.GetServres().Select(a => a.City).Distinct().ToList()!;

    [Parameter] public EventCallback<string> SelectName { get; set; }



    private async Task<AutoCompleteDataProviderResult<string>> CityDataProvider(AutoCompleteDataProviderRequest<string> request)
    {
        Cities =  Cities ?? ServersRepository.GetServres().Select(a => a.City).Distinct().ToList()!;
        return await Task.FromResult(request.ApplyTo(Cities!));
    }

   

    private async Task OnAutoCompleteChanged(string customer)
    {

        Console.WriteLine($"'{customer}' selected.");
        await SelectName.InvokeAsync(customer);
    }

}